<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../website-css/loginpage.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <title>Sign Up</title>
</head>

<body>
    <div class="entire">
        <p class="name">Create Account</p>

        <input id="fullName" type="text" placeholder="Full Name">
        <input id="email" type="text" placeholder="Email or Phone Number">
        <input id="password" type="password" placeholder="Password">
        <input id="confirmPassword" type="password" placeholder="Confirm Password">

        <button id="signupBtn">Sign Up</button>

        <p class="already">
            Already have an account? <span id="loginLink" style="cursor:pointer; color:blue;">Log in</span>
        </p>
    </div>

    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { 
            getAuth, 
            createUserWithEmailAndPassword 
        } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBcKwN19YU2vNb8bCdQRvenKVVTgMbbsR8",
            authDomain: "palntry.firebaseapp.com",
            projectId: "palntry",
            storageBucket: "palntry.firebasestorage.app",
            messagingSenderId: "664869269406",
            appId: "1:664869269406:web:2cdc64f5e64b42d0bdb08f",
            measurementId: "G-M8NFF4V16W"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Redirect to Login page
        document.getElementById("loginLink").addEventListener("click", () => {
            window.location.href = "loginpage.html";
        });

        // Handle Signup
        document.getElementById("signupBtn").addEventListener("click", () => {
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;

            if (password !== confirmPassword) {
                alert("Passwords do not match!");
                return;
            }

            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    alert("Account created successfully!");
                    window.location.href = "loginpage.html";  // go to login page
                })
                .catch((error) => {
                    alert(error.message);
                });
        });
    </script>

</body>
</html>
