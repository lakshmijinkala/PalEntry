<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../website-css/loginpage.css">
    <title>Reset Password</title>
    <link rel="icon" href="../img/logo1.png" type="image/x-icon">
</head>

<body>
    <div class="entire">
        <p class="name">Reset Password</p>

        <input id="resetEmail" type="text" placeholder="Enter your email">

        <button id="resetBtn">Send Reset Email</button>

        <p style="margin-top: 20px;">
            <span id="goLogin" style="color: blue; cursor: pointer;">
                Back to Login
            </span>
        </p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { 
            getAuth, 
            sendPasswordResetEmail 
        } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBcKwN19YU2vNb8bCdQRvenKVVTgMbbsR8",
            authDomain: "palntry.firebaseapp.com",
            projectId: "palntry",
            storageBucket: "palntry.firebasestorage.app",
            messagingSenderId: "664869269406",
            appId: "1:664869269406:web:2cdc64f5e64b42d0bdb08f",
            measurementId: "G-M8NFF4V16W"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Send reset email
        document.getElementById("resetBtn").addEventListener("click", () => {
            const email = document.getElementById("resetEmail").value;

            sendPasswordResetEmail(auth, email)
                .then(() => {
                    alert("Password reset email sent! Check your inbox.");
                    window.location.href = "loginpage.html";
                })
                .catch((error) => {
                    alert(error.message);
                });
        });

        // Back to login
        document.getElementById("goLogin").addEventListener("click", () => {
            window.location.href = "loginpage.html";
        });
    </script>

</body>
</html>
