<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    <link rel="stylesheet" href="loginpage.css">
</head>

<body>
    <div class="entire">
        <p class="name">Reset Password</p>

        <input id="resetEmail" type="text" placeholder="Enter your email">

        <button id="resetBtn">Send Reset Email</button>

        <p style="margin-top: 20px;">
            <a href="loginpage.html" id="loginLink" style="color: blue; cursor: pointer;">
                Log in
            </a>
        </p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBcKwN19YU2vNb8bCdQRvenKVVTgMbbsR8",
            authDomain: "palntry.firebaseapp.com",
            projectId: "palntry",
            storageBucket: "palntry.firebasestorage.app",
            messagingSenderId: "664869269406",
            appId: "1:664869269406:web:2cdc64f5e64b42d0bdb08f",
            measurementId: "G-M8NFF4V16W"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // assumes an input with id="resetEmail" and a button id="resetBtn"
        document.getElementById("resetBtn").addEventListener("click", async () => {
            const email = document.getElementById("resetEmail").value;
            if (!email) {
            alert("Please enter your email address.");
            return;
            }
            try {
            await sendPasswordResetEmail(auth, email);
            alert("Password reset email sent. Check your inbox (and spam).");
            // optionally redirect to login:
            // window.location.href = "loginpage.html";
            } catch (err) {
            alert("Error sending reset email: " + err.message);
            }
        });
    </script>


</body>
</html>
